<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <!-- '//cdn.jsdelivr.net/gh/chrisveness/crypto@latest/sha256.js' -->
    <!-- <script type="module"> /* show source code */ const response = await fetch('//cdn.jsdelivr.net/gh/chrisveness/crypto@latest/sha256.js'); 
        $('#src-code').textContent = await response.text(); 
    </script> -->

    <form name="f">
        <ul>
            <li>
                <label class="w-label" for="message">Message</label>
                <textarea name="message" id="message" class="width-full" rows="4" placeholder="Vui lòng nhập"></textarea>
            </li>
            <li>
                <label class="w-label" for="digest">SHA-256</label>
                <input type="text" name="digest" id="digest" readonly class="width-full">
                <output class="small grey" id="time"></output>
            </li>
            <li>
                <label class="w-label" for="digest-md5">MD5</label>
                <input type="text" name="digest-md5" id="digest-md5" readonly class="width-full">
                <output class="small grey" id="time-md5"></output>
            </li>
            <li>
                <label class="w-label" for="digest-sha1">SHA-1</label>
                <input type="text" name="digest-sha1" id="digest-sha1" readonly class="width-full">
                <output class="small grey" id="time-sha1"></output>
            </li>
        </ul>
    </form>
<!--   hiện thị thông tin   -->
    <script>
        const $ = document.querySelector.bind(document);
        var inpMessage = document.querySelector('#message');
        console.log("inpMessage");
        

        $('#message').oninput = function() {
            var t1 = performance.now();
            var hash = Sha256.hash(this.value);
            var t2 = performance.now();
            $('#digest').value = hash;
            $('#time').value = (t2 - t1).toFixed(3) + 'ms';
            console.log((t2 - t1).toFixed(3));


            var t3 = performance.now();
            var hashMd5 = CryptoJS.MD5(this.value);
            var t4 = performance.now();
            $('#digest-md5').value = hashMd5;
            $('#time-md5').value = (t4 - t3).toFixed(3) + 'ms';

            var t5 = performance.now();
            var hashSha1 = SHA1(this.value);
            var t6 = performance.now();
            $('#digest-sha1').value = hashSha1;
            $('#time-sha1').value = (t6 - t5).toFixed(3) + 'ms';
        };
    </script>


    <script src="./JS/main.js"></script>
    <script src="./js/sha256.js"></script>
    <script src="./JS/md5.js"></script>
    <script src="./js/md5s.js"></script>
    <script src="./JS/sha1.js"></script>

</body>

</html>
